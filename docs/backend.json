
{
  "entities": {
    "User": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "User",
      "type": "object",
      "description": "Represents a user of the aaura app.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the user (Firebase Auth UID)."
        },
        "email": {
          "type": "string",
          "description": "User's email address.",
          "format": "email"
        },
        "fullName": {
          "type": "string",
          "description": "User's full name."
        },
        "photoURL": {
          "type": "string",
          "description": "URL for the user's profile picture.",
          "format": "uri"
        },
        "zodiacSign": {
          "type": "string",
          "description": "User's zodiac sign for horoscope generation."
        },
        "birthDate": {
          "type": "string",
          "description": "User's birth date.",
          "format": "date"
        },
        "placeOfBirth": {
            "type": "string",
            "description": "User's place of birth."
        },
        "timeOfBirth": {
            "type": "string",
            "description": "User's time of birth.",
            "format": "time"
        },
        "creationTimestamp": {
          "type": "string",
          "description": "Timestamp of user account creation.",
          "format": "date-time"
        },
        "profileComplete": {
            "type": "boolean",
            "description": "Flag to indicate if the user has completed their profile."
        },
        "followerCount": {
          "type": "number",
          "description": "The number of users following this user."
        },
        "followingCount": {
          "type": "number",
          "description": "The number of users this user is following."
        },
        "welcomeMessage": {
            "type": "string",
            "description": "A personalized welcome message for new users."
        }
      },
      "required": [
        "id",
        "email"
      ]
    },
    "Follow": {
        "title": "Follow",
        "type": "object",
        "description": "Represents a follow relationship between two users. The document ID is the ID of the user being followed/follower.",
        "properties": {
            "userId": { "type": "string", "description": "ID of the user." },
            "followedAt": { "type": "string", "format": "date-time", "description": "Timestamp when the follow occurred." }
        },
        "required": ["userId", "followedAt"]
    },
    "Preference": {
      "title": "Preference",
      "type": "object",
      "description": "Stores user-specific preferences.",
      "properties": {
        "language": {
          "type": "string",
          "description": "The user's preferred language code (e.g., 'en', 'hi')."
        },
        "favoriteDeities": {
            "type": "array",
            "description": "A list of favorite deity slugs for content personalization.",
            "items": { "type": "string" }
        }
      }
    },
    "Badge": {
        "title": "Badge",
        "type": "object",
        "description": "Represents a gamification badge awarded to a user.",
        "properties": {
            "id": { "type": "string", "description": "Unique ID for the badge (e.g., 'spiritual-seeker')." },
            "name": { "type": "string", "description": "Display name of the badge." },
            "description": { "type": "string", "description": "What the user did to earn the badge." },
            "awardedAt": { "type": "string", "format": "date-time", "description": "Timestamp when the badge was awarded." }
        },
        "required": ["id", "name", "awardedAt"]
    },
    "Media": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Media",
      "type": "object",
      "description": "Represents a media item on the platform, such as a video, bhajan, podcast, or pravachan.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the media item."
        },
        "userId": {
          "type": "string",
          "description": "Reference to the User (creator) who uploaded the media."
        },
        "title_en": { "type": "string", "description": "Title of the media in English." },
        "title_hi": { "type": "string", "description": "Title of the media in Hindi." },
        "description_en": { "type": "string", "description": "Description of the media in English." },
        "description_hi": { "type": "string", "description": "Description of the media in Hindi." },
        "uploadDate": {
          "type": "string",
          "description": "Date and time the media was uploaded.",
          "format": "date-time"
        },
        "mediaUrl": {
          "type": "string",
          "description": "URL of the media file in Firebase Storage or YouTube.",
          "format": "uri"
        },
        "thumbnailUrl": {
          "type": "string",
          "description": "URL of the media thumbnail image.",
          "format": "uri"
        },
        "mediaType": {
          "type": "string",
          "description": "The type of media.",
          "enum": ["video", "short", "bhajan", "podcast", "pravachan", "audiobook"]
        },
        "duration": {
            "type": "number",
            "description": "Duration of the media in seconds."
        },
        "language": {
            "type": "string",
            "description": "Original language of the media content."
        },
        "tags": {
          "type": "array",
          "description": "Keywords for search and discovery.",
          "items": {
            "type": "string"
          }
        },
        "status": {
            "type": "string",
            "description": "Moderation status of the media.",
            "enum": ["pending", "approved", "rejected"]
        },
        "views": {
            "type": "number",
            "description": "Number of times the media has been viewed."
        },
        "likes": {
            "type": "number",
            "description": "Number of likes the media has received."
        },
        "popularity": {
          "type": "number",
          "description": "A score calculated for trending feeds."
        }
      },
      "required": [
        "id",
        "userId",
        "title_en",
        "uploadDate",
        "mediaUrl",
        "mediaType",
        "status"
      ]
    },
    "Channel": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Channel",
      "type": "object",
      "description": "Represents a creator's channel on the platform.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the channel (typically the same as the userId)."
        },
        "userId": {
          "type": "string",
          "description": "Reference to the User who owns the channel."
        },
        "name": {
          "type": "string",
          "description": "Name of the channel."
        },
        "description_en": { "type": "string", "description": "Description of the channel content in English." },
        "description_hi": { "type": "string", "description": "Description of the channel content in Hindi." },
        "creationDate": {
          "type": "string",
          "description": "Date the channel was created.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "userId",
        "name",
        "creationDate"
      ]
    },
    "Horoscope": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Horoscope",
      "type": "object",
      "description": "Represents a daily horoscope generated for a user.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the horoscope."
        },
        "userId": {
          "type": "string",
          "description": "Reference to the User for whom the horoscope is generated."
        },
        "date": {
          "type": "string",
          "description": "The date the horoscope is for.",
          "format": "date"
        },
        "zodiacSign": {
          "type": "string",
          "description": "The zodiac sign of the user."
        },
        "text_en": { "type": "string", "description": "Horoscope text in English." },
        "text_hi": { "type": "string", "description": "Horoscope text in Hindi." }
      },
      "required": [
        "id",
        "userId",
        "date",
        "zodiacSign",
        "text_en"
      ]
    },
    "Deity": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Deity",
      "type": "object",
      "description": "Represents a deity in the Hindu pantheon.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the deity."
        },
        "name_en": { "type": "string", "description": "Name of the deity in English." },
        "name_hi": { "type": "string", "description": "Name of the deity in Hindi." },
        "description_en": { "type": "string", "description": "Description in English." },
        "description_hi": { "type": "string", "description": "Description in Hindi." },
        "images": {
          "type": "array",
          "description": "A list of image URLs for the deity.",
          "items": {
            "type": "string",
            "format": "uri"
          }
        },
        "mantras": {
          "type": "array",
          "description": "A list of mantras associated with the deity.",
          "items": {
            "type": "object",
            "properties": {
              "sanskrit": {"type": "string"},
              "translation_en": {"type": "string"},
              "translation_hi": {"type": "string"}
            }
          }
        },
        "stotras": {
          "type": "array",
          "description": "A list of stotras (hymns) for the deity.",
           "items": {
            "type": "object",
            "properties": {
              "title_en": {"type": "string"},
              "title_hi": {"type": "string"},
              "sanskrit": {"type": "string"},
              "translation_en": {"type": "string"},
              "translation_hi": {"type": "string"}
            }
          }
        }
      },
      "required": [
        "id",
        "name_en",
        "description_en"
      ]
    },
    "Shop": {
      "title": "Shop",
      "type": "object",
      "description": "Represents a vendor's shop in the marketplace.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the shop."
        },
        "ownerId": {
          "type": "string",
          "description": "ID of the user who owns the shop."
        },
        "name": {
          "type": "string",
          "description": "Name of the shop."
        },
        "description_en": { "type": "string", "description": "Description of the shop in English." },
        "description_hi": { "type": "string", "description": "Description of the shop in Hindi." }
      },
      "required": [
        "id",
        "ownerId",
        "name"
      ]
    },
    "Product": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Product",
      "type": "object",
      "description": "Represents a product in the marketplace.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the product."
        },
        "shopId": {
            "type": "string",
            "description": "ID of the shop that sells this product."
        },
        "name_en": { "type": "string", "description": "Name of the product in English." },
        "name_hi": { "type": "string", "description": "Name of the product in Hindi." },
        "description_en": { "type": "string", "description": "Description of the product in English." },
        "description_hi": { "type": "string", "description": "Description of the product in Hindi." },
        "price": {
          "type": "number",
          "description": "Price of the product."
        },
        "imageUrl": {
          "type": "string",
          "description": "URL of the product image.",
          "format": "uri"
        },
        "category": {
          "type": "string",
          "description": "Category like 'Idols', 'Incense', 'Books'."
        }
      },
      "required": [
        "id",
        "shopId",
        "name_en",
        "price",
        "imageUrl"
      ]
    },
    "CartItem": {
      "title": "Cart Item",
      "type": "object",
      "description": "Represents a single item within a user's shopping cart.",
      "properties": {
        "productId": { "type": "string", "description": "The ID of the product." },
        "quantity": { "type": "number", "description": "The number of units of this product." },
        "price": { "type": "number", "description": "The price per unit at the time of adding to cart." },
        "name_en": { "type": "string", "description": "The English name of the product." },
        "imageUrl": { "type": "string", "format": "uri", "description": "The image URL of the product." }
      },
      "required": ["productId", "quantity", "price", "name_en", "imageUrl"]
    },
    "Order": {
        "title": "Order",
        "type": "object",
        "description": "Represents a completed customer order.",
        "properties": {
            "id": { "type": "string", "description": "Unique identifier for the order." },
            "userId": { "type": "string", "description": "The ID of the user who placed the order." },
            "items": { "type": "array", "items": { "$ref": "#/entities/CartItem" } },
            "totalAmount": { "type": "number", "description": "The total amount paid for the order." },
            "status": { "type": "string", "enum": ["created", "paid", "shipped", "delivered", "cancelled"] },
            "createdAt": { "type": "string", "format": "date-time" },
            "paymentDetails": {
                "type": "object",
                "properties": {
                    "razorpay_order_id": { "type": "string" },
                    "razorpay_payment_id": { "type": "string" },
                    "razorpay_signature": { "type": "string" }
                }
            }
        },
        "required": ["id", "userId", "items", "totalAmount", "status", "createdAt"]
    },
    "Temple": {
      "title": "Temple",
      "type": "object",
      "description": "Represents a temple or pilgrimage site.",
      "properties": {
        "id": { "type": "string" },
        "name_en": { "type": "string", "description": "Name of the temple in English." },
        "name_hi": { "type": "string", "description": "Name of the temple in Hindi." },
        "deity": {
          "type": "object",
          "properties": {
            "name_en": { "type": "string" },
            "name_hi": { "type": "string" },
            "significance_en": { "type": "string" },
            "significance_hi": { "type": "string" }
          }
        },
        "location": {
          "type": "object",
          "properties": {
            "address": { "type": "string" },
            "city": { "type": "string" },
            "district": { "type": "string" },
            "state": { "type": "string" },
            "pincode": { "type": "string" },
            "geo": {
              "type": "object",
              "properties": {
                "lat": { "type": "number" },
                "lng": { "type": "number" }
              }
            }
          }
        },
        "importance": {
          "type": "object",
          "properties": {
            "historical_en": { "type": "string" },
            "historical_hi": { "type": "string" },
            "mythological_en": { "type": "string" },
            "mythological_hi": { "type": "string" }
          }
        },
        "media": {
          "type": "object",
          "properties": {
            "images": {
              "type": "array",
              "items": { "type": "string", "format": "uri" }
            },
            "videos": {
              "type": "array",
              "items": { "type": "string", "format": "uri" }
            }
          }
        },
        "visitingInfo": {
          "type": "object",
          "properties": {
            "timings_en": { "type": "string" },
            "timings_hi": { "type": "string" },
            "festivals_en": { "type": "string" },
            "festivals_hi": { "type": "string" },
            "poojaGuidelines_en": { "type": "string" },
            "poojaGuidelines_hi": { "type": "string" },
            "dressCode_en": { "type": "string" },
            "dressCode_hi": { "type": "string" }
          }
        },
        "nearbyInfo": {
          "type": "object",
          "properties": {
            "placesToVisit_en": { "type": "string" },
            "placesToVisit_hi": { "type": "string" },
            "accommodation_en": { "type": "string" },
            "accommodation_hi": { "type": "string" },
            "food_en": { "type": "string" },
            "food_hi": { "type": "string" },
            "transport_en": { "type": "string" },
            "transport_hi": { "type": "string" }
          }
        }
      },
      "required": ["id", "name_en", "deity", "location", "importance"]
    },
    "Review": {
      "title": "Review",
      "type": "object",
      "description": "A user review for a temple.",
      "properties": {
        "id": { "type": "string" },
        "userId": { "type": "string" },
        "templeId": { "type": "string" },
        "rating": { "type": "number", "minimum": 1, "maximum": 5 },
        "comment": { "type": "string" },
        "timestamp": { "type": "string", "format": "date-time" }
      },
      "required": ["id", "userId", "templeId", "rating", "comment", "timestamp"]
    },
    "Bookmark": {
      "title": "Bookmark",
      "type": "object",
      "description": "Represents a user bookmarking a temple.",
      "properties": {
        "id": { "type": "string" },
        "userId": { "type": "string" },
        "templeId": { "type": "string" },
        "timestamp": { "type": "string", "format": "date-time" }
      },
      "required": ["id", "userId", "templeId", "timestamp"]
    },
    "VirtualOffering": {
        "title": "Virtual Offering",
        "type": "object",
        "description": "Represents a user's interaction in the virtual pooja room.",
        "properties": {
            "userId": { "type": "string" },
            "interaction": { "type": "string", "enum": ["ring-bell", "offer-flower", "light-diya"] },
            "timestamp": { "type": "string", "format": "date-time" }
        },
        "required": ["userId", "interaction", "timestamp"]
    },
    "Story": {
      "title": "Story",
      "type": "object",
      "description": "Represents a mythological story.",
      "properties": {
        "id": { "type": "string" },
        "title_en": { "type": "string" },
        "title_hi": { "type": "string" },
        "summary_en": { "type": "string" },
        "summary_hi": { "type": "string" },
        "fullText_en": { "type": "string" },
        "fullText_hi": { "type": "string" },
        "images": { "type": "array", "items": { "type": "string", "format": "uri" } },
        "audioGuide": { "type": "string", "format": "uri" },
        "videoLink": { "type": "string", "format": "uri" },
        "tags": { "type": "array", "items": { "type": "string" } },
        "relatedCharacters": { "type": "array", "items": { "type": "string" } },
        "relatedTemples": { "type": "array", "items": { "type": "string" } },
        "createdAt": { "type": "string", "format": "date-time" },
        "updatedAt": { "type": "string", "format": "date-time" }
      },
      "required": ["id", "title_en", "summary_en", "fullText_en", "createdAt", "updatedAt"]
    },
    "Character": {
      "title": "Character",
      "type": "object",
      "description": "Represents a mythological character.",
      "properties": {
        "id": { "type": "string" },
        "name_en": { "type": "string" },
        "name_hi": { "type": "string" },
        "description_en": { "type": "string" },
        "description_hi": { "type": "string" },
        "role_en": { "type": "string" },
        "role_hi": { "type": "string" },
        "associatedStories": { "type": "array", "items": { "type": "string" } },
        "attributes": { "type": "array", "items": { "type": "string" } },
        "images": { "type": "array", "items": { "type": "string" } }
      },
      "required": ["id", "name_en", "description_en"]
    },
    "Ritual": {
      "title": "Ritual",
      "type": "object",
      "description": "Represents a ritual or pooja.",
      "properties": {
        "id": { "type": "string" },
        "name_en": { "type": "string" },
        "name_hi": { "type": "string" },
        "procedure_en": { "type": "string" },
        "procedure_hi": { "type": "string" },
        "deity": { "type": "string" },
        "itemsRequired": { "type": "array", "items": { "type": "string" } },
        "auspiciousTime": { "type": "string" },
        "images": { "type": "array", "items": { "type": "string", "format": "uri" } }
      },
      "required": ["id", "name_en", "procedure_en"]
    },
    "Panchang": {
      "title": "Panchang",
      "type": "object",
      "description": "Represents daily panchang data.",
      "properties": {
        "date": { "type": "string", "format": "date" },
        "tithi": { "type": "string" },
        "nakshatra": { "type": "string" },
        "rahukalam": { "type": "string" },
        "yamaGandam": { "type": "string" },
        "sunrise": { "type": "string" },
        "sunset": { "type": "string" },
        "festival_en": { "type": "array", "items": { "type": "string" } },
        "festival_hi": { "type": "array", "items": { "type": "string" } }
      },
      "required": ["date"]
    },
    "Festival": {
      "title": "Festival",
      "type": "object",
      "description": "Represents a cultural festival.",
      "properties": {
        "id": { "type": "string" },
        "name_en": { "type": "string" },
        "name_hi": { "type": "string" },
        "description_en": { "type": "string" },
        "description_hi": { "type": "string" },
        "date": { "type": "string", "format": "date-time" },
        "duration": { "type": "string" },
        "significance_en": { "type": "string" },
        "significance_hi": { "type": "string" },
        "associatedDeities": { "type": "array", "items": { "type": "string" } },
        "images": { "type": "array", "items": { "type": "string", "format": "uri" } },
        "relatedTemples": { "type": "array", "items": { "type": "string" } }
      },
      "required": ["id", "name_en", "description_en", "date", "significance_en"]
    },
    "Post": {
      "title": "Post",
      "description": "Represents a post in the community forum.",
      "type": "object",
      "properties": {
        "id": { "type": "string" },
        "authorId": { "type": "string" },
        "content": { "type": "string" },
        "images": { "type": "array", "items": { "type": "string", "format": "uri" } },
        "tags": { "type": "array", "items": { "type": "string" } },
        "createdAt": { "type": "string", "format": "date-time" },
        "likes": { "type": "number" },
        "commentsCount": { "type": "number" }
      },
      "required": ["authorId", "content", "createdAt"]
    },
    "Comment": {
      "title": "Comment",
      "description": "Represents a comment on a piece of content (e.g., post, video).",
      "type": "object",
      "properties": {
        "id": { "type": "string" },
        "contentId": { "type": "string", "description": "The ID of the content being commented on." },
        "contentType": { "type": "string", "description": "The type of content (e.g., 'post', 'media')." },
        "authorId": { "type": "string" },
        "text": { "type": "string" },
        "createdAt": { "type": "string", "format": "date-time" }
      },
      "required": ["contentId", "contentType", "authorId", "text", "createdAt"]
    }
  },
  "auth": {
    "providers": [
      "password"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/users/{userId}",
        "definition": {
          "entityName": "User",
          "schema": { "$ref": "#/entities/User" },
          "description": "Stores user profiles."
        }
      },
      {
        "path": "/users/{userId}/followers/{followerId}",
        "definition": {
            "entityName": "Follow",
            "schema": { "$ref": "#/entities/Follow" },
            "description": "A subcollection storing the users who are following this user. The document ID is the UID of the follower."
        }
      },
      {
        "path": "/users/{userId}/following/{followedId}",
        "definition": {
            "entityName": "Follow",
            "schema": { "$ref": "#/entities/Follow" },
            "description": "A subcollection storing the users this user is following. The document ID is the UID of the user being followed."
        }
      },
      {
        "path": "/users/{userId}/preferences/default",
        "definition": {
          "entityName": "Preference",
          "schema": { "$ref": "#/entities/Preference" },
          "description": "Stores user preferences, using a singleton document 'default'."
        }
      },
       {
        "path": "/users/{userId}/badges/{badgeId}",
        "definition": {
          "entityName": "Badge",
          "schema": { "$ref": "#/entities/Badge" },
          "description": "Stores gamification badges awarded to the user."
        }
      },
      {
        "path": "/users/{userId}/bookmarks/{bookmarkId}",
        "definition": {
          "entityName": "Bookmark",
          "schema": { "$ref": "#/entities/Bookmark" },
          "description": "Stores user bookmarks for temples."
        }
      },
       {
        "path": "/users/{userId}/virtualOfferings/{offeringId}",
        "definition": {
          "entityName": "VirtualOffering",
          "schema": { "$ref": "#/entities/VirtualOffering" },
          "description": "Stores a user's interactions in the virtual pooja room."
        }
      },
      {
        "path": "/users/{userId}/cart/{productId}",
        "definition": {
            "entityName": "CartItem",
            "schema": { "$ref": "#/entities/CartItem" },
            "description": "Stores items in a user's shopping cart."
        }
      },
      {
          "path": "/users/{userId}/orders/{orderId}",
          "definition": {
              "entityName": "Order",
              "schema": { "$ref": "#/entities/Order" },
              "description": "Stores a user's past orders."
          }
      },
      {
        "path": "/media/{mediaId}",
        "definition": {
          "entityName": "Media",
          "schema": { "$ref": "#/entities/Media" },
          "description": "Stores all media on the platform (videos, audio, etc.)."
        }
      },
      {
        "path": "/media/{mediaId}/comments/{commentId}",
        "definition": {
          "entityName": "Comment",
          "schema": { "$ref": "#/entities/Comment" },
          "description": "Stores comments for a specific media item."
        }
      },
       {
        "path": "/media/{mediaId}/likes/{userId}",
        "definition": {
            "schema": { "type": "object", "properties": { "userId": { "type": "string" } } },
            "description": "Stores likes for a specific media item. Document ID is the user's UID."
        }
       },
      {
        "path": "/channels/{channelId}",
        "definition": {
          "entityName": "Channel",
          "schema": { "$ref": "#/entities/Channel" },
          "description": "Stores all channels on the platform."
        }
      },
      {
        "path": "/users/{userId}/horoscopes/{horoscopeId}",
        "definition": {
          "entityName": "Horoscope",
          "schema": { "$ref": "#/entities/Horoscope" },
          "description": "Stores horoscopes generated for users."
        }
      },
      {
        "path": "/deities/{deityId}",
        "definition": {
          "entityName": "Deity",
          "schema": { "$ref": "#/entities/Deity" },
          "description": "Stores information about Hindu deities."
        }
      },
      {
        "path": "/shops/{shopId}",
        "definition": {
            "entityName": "Shop",
            "schema": { "$ref": "#/entities/Shop" },
            "description": "Stores all shops for the marketplace."
        }
      },
      {
        "path": "/products/{productId}",
        "definition": {
          "entityName": "Product",
          "schema": { "$ref": "#/entities/Product" },
          "description": "Stores all products for the marketplace."
        }
      },
      {
        "path": "/temples/{templeId}",
        "definition": {
          "entityName": "Temple",
          "schema": { "$ref": "#/entities/Temple" },
          "description": "Stores all temple and pilgrimage data."
        }
      },
      {
        "path": "/temples/{templeId}/reviews/{reviewId}",
        "definition": {
          "entityName": "Review",
          "schema": { "$ref": "#/entities/Review" },
          "description": "Stores user reviews for a specific temple."
        }
      },
       {
        "path": "/stories/{storyId}",
        "definition": {
          "entityName": "Story",
          "schema": { "$ref": "#/entities/Story" },
          "description": "Stores mythological stories."
        }
      },
      {
        "path": "/characters/{characterId}",
        "definition": {
          "entityName": "Character",
          "schema": { "$ref": "#/entities/Character" },
          "description": "Stores mythological characters."
        }
      },
      {
        "path": "/rituals/{ritualId}",
        "definition": {
          "entityName": "Ritual",
          "schema": { "$ref": "#/entities/Ritual" },
          "description": "Stores guidelines for various rituals and poojas."
        }
      },
      {
        "path": "/panchang/{date}",
        "definition": {
          "entityName": "Panchang",
          "schema": { "$ref": "#/entities/Panchang" },
          "description": "Stores daily panchang data, with the document ID being the date (e.g., '2025-10-05')."
        }
      },
      {
        "path": "/festivals/{festivalId}",
        "definition": {
          "entityName": "Festival",
          "schema": { "$ref": "#/entities/Festival" },
          "description": "Stores details about cultural and religious festivals."
        }
      },
      {
        "path": "/posts/{postId}",
        "definition": {
            "entityName": "Post",
            "schema": { "$ref": "#/entities/Post" },
            "description": "Stores forum posts."
        }
      },
      {
          "path": "/posts/{postId}/comments/{commentId}",
          "definition": {
              "entityName": "Comment",
              "schema": { "$ref": "#/entities/Comment" },
              "description": "Stores comments for a specific post."
          }
      },
      {
        "path": "/posts/{postId}/likes/{userId}",
        "definition": {
            "schema": { "type": "object", "properties": { "userId": { "type": "string" } } },
            "description": "Stores likes for a specific forum post. Document ID is the user's UID."
        }
       }
    ],
    "reasoning": "The data model is designed for a content platform with e-commerce, a temple library, and a community forum. It now includes a robust social graph with followers and following subcollections under each user. This is more efficient for querying social connections than the previous subscription model. All public content (media, posts, etc.) remains in top-level collections, while user-specific data is nested for security and scalability. Likes are now modeled as subcollections on content items, which is a scalable pattern for tracking user interactions."
  }
}
