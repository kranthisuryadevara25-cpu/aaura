{
  "entities": {
    "User": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "User",
      "type": "object",
      "description": "Represents a user of the Aura app.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the user (Firebase Auth UID)."
        },
        "email": {
          "type": "string",
          "description": "User's email address.",
          "format": "email"
        },
        "displayName": {
          "type": "string",
          "description": "User's display name or channel name."
        },
        "photoURL": {
          "type": "string",
          "description": "URL for the user's profile picture.",
          "format": "uri"
        },
        "zodiacSign": {
          "type": "string",
          "description": "User's zodiac sign for horoscope generation."
        },
        "birthDate": {
          "type": "string",
          "description": "User's birth date for horoscope personalization.",
          "format": "date"
        },
        "creationTimestamp": {
          "type": "string",
          "description": "Timestamp of user account creation.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "email"
      ]
    },
    "Video": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Video",
      "type": "object",
      "description": "Represents a video on the platform.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the video."
        },
        "userId": {
          "type": "string",
          "description": "Reference to the User (creator) who uploaded the video."
        },
        "title": {
          "type": "string",
          "description": "Title of the video."
        },
        "description": {
          "type": "string",
          "description": "Description of the video content."
        },
        "uploadDate": {
          "type": "string",
          "description": "Date and time the video was uploaded.",
          "format": "date-time"
        },
        "videoUrl": {
          "type": "string",
          "description": "URL of the video file in Firebase Storage.",
          "format": "uri"
        },
        "thumbnailUrl": {
          "type": "string",
          "description": "URL of the video thumbnail image.",
          "format": "uri"
        },
        "category": {
          "type": "string",
          "description": "Category like 'Meditation', 'Yoga', 'Scripture'."
        },
        "tags": {
          "type": "array",
          "description": "Keywords for search and discovery.",
          "items": {
            "type": "string"
          }
        },
        "views": {
            "type": "number",
            "description": "Number of times the video has been viewed."
        },
        "likes": {
            "type": "number",
            "description": "Number of likes the video has received."
        },
        "isShortForm": {
            "type": "boolean",
            "description": "True if the video is a short-form reel."
        }
      },
      "required": [
        "id",
        "userId",
        "title",
        "uploadDate",
        "videoUrl"
      ]
    },
    "Channel": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Channel",
      "type": "object",
      "description": "Represents a creator's channel on the platform.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the channel (typically the same as the userId)."
        },
        "userId": {
          "type": "string",
          "description": "Reference to the User who owns the channel."
        },
        "name": {
          "type": "string",
          "description": "Name of the channel."
        },
        "description": {
          "type": "string",
          "description": "Description of the channel content."
        },
        "creationDate": {
          "type": "string",
          "description": "Date the channel was created.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "userId",
        "name",
        "creationDate"
      ]
    },
    "Subscription": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Subscription",
      "type": "object",
      "description": "Represents a user's subscription to a channel.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the subscription."
        },
        "userId": {
          "type": "string",
          "description": "ID of the user who is subscribing."
        },
        "channelId": {
          "type": "string",
          "description": "ID of the channel being subscribed to."
        },
        "subscriptionDate": {
          "type": "string",
          "description": "Date of subscription.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "userId",
        "channelId",
        "subscriptionDate"
      ]
    },
    "Horoscope": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Horoscope",
      "type": "object",
      "description": "Represents a daily horoscope generated for a user.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the horoscope."
        },
        "userId": {
          "type": "string",
          "description": "Reference to the User for whom the horoscope is generated."
        },
        "date": {
          "type": "string",
          "description": "The date the horoscope is for.",
          "format": "date"
        },
        "zodiacSign": {
          "type": "string",
          "description": "The zodiac sign of the user."
        },
        "text": {
          "type": "string",
          "description": "The text content of the horoscope."
        }
      },
      "required": [
        "id",
        "userId",
        "date",
        "zodiacSign",
        "text"
      ]
    },
    "Deity": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Deity",
      "type": "object",
      "description": "Represents a deity in the Hindu pantheon.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the deity."
        },
        "name": {
          "type": "string",
          "description": "The name of the deity."
        },
        "description": {
          "type": "string",
          "description": "A brief description of the deity."
        },
        "images": {
          "type": "array",
          "description": "A list of image URLs for the deity.",
          "items": {
            "type": "string",
            "format": "uri"
          }
        },
        "mantras": {
          "type": "array",
          "description": "A list of mantras associated with the deity.",
          "items": {
            "type": "object",
            "properties": {
              "sanskrit": {"type": "string"},
              "translation": {"type": "string"}
            }
          }
        },
        "stotras": {
          "type": "array",
          "description": "A list of stotras (hymns) for the deity.",
           "items": {
            "type": "object",
            "properties": {
              "title": {"type": "string"},
              "sanskrit": {"type": "string"},
              "translation": {"type": "string"}
            }
          }
        }
      },
      "required": [
        "id",
        "name",
        "description"
      ]
    }
  },
  "auth": {
    "providers": [
      "password"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/users/{userId}",
        "definition": {
          "entityName": "User",
          "schema": {
            "$ref": "#/backend/entities/User"
          },
          "description": "Stores user profiles."
        }
      },
      {
        "path": "/videos/{videoId}",
        "definition": {
          "entityName": "Video",
          "schema": {
            "$ref": "#/backend/entities/Video"
          },
          "description": "Stores all videos on the platform."
        }
      },
      {
        "path": "/channels/{channelId}",
        "definition": {
          "entityName": "Channel",
          "schema": {
            "$ref": "#/backend/entities/Channel"
          },
          "description": "Stores all channels on the platform."
        }
      },
      {
        "path": "/users/{userId}/subscriptions/{channelId}",
        "definition": {
            "entityName": "Subscription",
            "schema": {
                "$ref": "#/backend/entities/Subscription"
            },
            "description": "Stores user subscriptions within a sub-collection of the user's document."
        }
      },
      {
        "path": "/users/{userId}/horoscopes/{horoscopeId}",
        "definition": {
          "entityName": "Horoscope",
          "schema": {
            "$ref": "#/backend/entities/Horoscope"
          },
          "description": "Stores horoscopes generated for users."
        }
      },
      {
        "path": "/deities/{deityId}",
        "definition": {
          "entityName": "Deity",
          "schema": {
            "$ref": "#/backend/entities/Deity"
          },
          "description": "Stores information about Hindu deities."
        }
      }
    ],
    "reasoning": "The data model is designed for a content platform. Videos, Channels and Deities are in top-level collections for easy querying and discovery. User-specific data like subscriptions and horoscopes are nested under the user's document. This structure supports features like public video feeds, dedicated channel pages, and personalized user content while keeping data organized."
  }
}
